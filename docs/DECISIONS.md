# ONE DAY - 开发前最终确认

## ✅ 已确认事项

### 1. 技术栈
- ✅ **Vue.js 3** + Vite + Pinia + Vue Router
- ✅ 纯 CSS3 样式（不使用 Tailwind）
- ✅ Local Storage 存储进度

### 2. 背景方案
- ✅ **使用图片素材**（用户提供的3张背景图）
  - 初始：`picture/蓝底水彩哭脸.jpg`
  - 第二：`picture/水彩笑脸改色.jpg`
  - 第三：`picture/哭笑拼接脸.jpg`

### 3. 故事内容
- ✅ 完整故事已确认，���6个故事页
- ✅ 故事逻辑已理解
- ✅ 可编辑位置已确认：
  - 目标页："你要赢" → "你要输"
  - 结局页："你输了" → "你赢了"

---

## 📄 故事内容摘要

### 故事页1：早晨出门
- 选择：迈左脚/右脚
- 结果：孩子永远猜对 → 主角觉得无意义 → 挤地铁上班

### 故事页2：食堂排队
- 选择：排更快的那队 / 在原队不动
- 结果a：晚了10分钟 → "早就意料到我排哪队哪队慢"
- 结果b：晚了10分钟 → "当初应该换队的"

### 故事页3：年会游戏
- 选择：让老板赢 / 让老板输
- 结果a：老板高兴 → "追求输得到的结局，不也是一种赢吗？"
- 结果b：老板暗看 → "我真赢了吗？"

### 故事页4：与孩子游戏
- 背景：21颗糖游戏，拿最后一个输，已连赢两局
- 选择：不能惯着，让他输 / 算了吧，让他赢
- 结果a：孩子改"输"为"赢" → 说不玩了
- 结果b：孩子高兴 → 主角觉得是教育的输

### 故事页5：讲道理
- 固定剧情：讲道理 → 孩子改来改去 → 主角觉得能获得启发也是赢 → 入睡

### 故事页6（结局）
- 固定结局："你输了。恭喜你'改变'了这一天。"

---

## 🎮 通关方式

### 方式一
1. 在目标页将"你要赢"改为"你要输"
2. 完成所有故事选择
3. 点击"返回主页"
4. 触发通关，解锁第二背景

### 方式二
1. 正常游玩到结局页
2. 将"你输了"改为"你赢了"
3. 点击"返回主页"
4. 触发通关，解锁第三背景

---

## 🎯 核心功能要点

### 可编辑文字
- **目标页**："赢"字可编辑，改为"输"
- **结局页**："输"字可编辑，改为"赢"
- 样式要求：与周围文字字体、字号完全一致
- 交互要求：无明显提示（光标、边框等）
- 保存：修改后保存到 LocalStorage

### 故事选择
- 每页显示选项（a/b）
- 点击选项后展开对应结果
- 显示"下一幕"按钮
- 按钮跳转到下一页

### 背景切换
- 初始：背景1（哭脸）
- 首次通关：背景2（笑脸）
- 二次通关：背景3（混合）
- 切换自动保存到 LocalStorage

### 成就弹窗
- 显示3个背景缩略图
- 未解锁显示问号
- 显示通关进度（0/2, 1/2, 2/2）

---

## 📂 项目结构（开发时创建）

```
one-day-game/
├── index.html                 # 主HTML文件
├── package.json               # 项目配置
├── vite.config.js            # Vite配置
├── public/                   # 静态资源
│   └── picture/
│       ├── 蓝底水彩哭脸.jpg
│       ├── 水彩笑脸改色.jpg
│       └── 哭笑拼接脸.jpg
├── src/
│   ├── main.js               # 入口文件
│   ├── App.vue               # 根组件
│   ├── router/               # 路由配置
│   │   └── index.js
│   ├── stores/               # Pinia状态管理
│   │   └── game.js
│   ├── views/                # 页面组件
│   │   ├── Home.vue          # 首页
│   │   ├── Target.vue        # 目标页
│   │   ├── Story1.vue        # 故事页1
│   │   ├── Story2.vue        # 故事页2
│   │   ├── Story3.vue        # 故事页3
│   │   ├── Story4.vue        # 故事页4
│   │   ├── Story5.vue        # 故事页5
│   │   └── Ending.vue        # 结局页
│   ├── components/           # 可复用组件
│   │   ├── EditableText.vue  # 可编辑文字组件
│   │   ├── StoryOption.vue   # 故事选项组件
│   │   ├── AchievementModal.vue  # 成就弹窗
│   │   └── Background.vue    # 背景组件
│   └── assets/
│       └── styles/
│           └── main.css      # 全局样式
└── docs/                     # 文档
    ├── README.md
    ├── DESIGN.md
    ├── DEVELOPMENT_PLAN.md
    ├── POSTMORTEM.md
    └── DECISIONS.md          # 本文件
```

---

## 🎨 视觉设计要点

### 颜色
- "输"字：`#1E40AF`（深蓝色），加粗
- "赢"字：`#F59E0B`（黄色/金色），加粗
- 普通文字：白色或根据背景调整

### 字体
- 字体系列：Microsoft YaHei, sans-serif
- 可编辑文字：与周围文字字体、字号完全一致

### 布局
- 响应式设计，适配移动端和桌面端
- 内容居中显示
- 按钮样式统一

---

## ⚠️ 注意事项

### 开发时注意
1. **可编辑文字不要有明显提示** - 光标、边框、颜色都要与普通文字一致
2. **故事页1的结果动态生成** - 根据玩家选择显示"左脚"或"右脚"
3. **背景切换要流畅** - 使用 CSS transition
4. **LocalStorage 要正确保存/读取** - 避免数据丢失

### 测试要点
1. 测试两种通关方式都能正确触发
2. 测试背景解锁和切换
3. 测试可编辑文字的保存和读取
4. 测试所有故事选项和跳转
5. 测试移动端适配

---

## 🚀 下一步：开始开发

所有准备工作已完成，现在可以开始编写代码了！

### 第一阶段任务
1. 初始化 Vue 3 + Vite 项目
2. 创建基础项目结构
3. 配置路由和状态管理
4. 创建8个页面的基础组件

### 准备工作清单
- [x] 故事内容确认
- [x] 技术栈确认
- [x] 背景方案确认
- [x] 文档更新完成
- [ ] 等待用户确认开始开发

---

**文档创建时间**：2026-01-30
**状态**：✅ 准备就绪，等待开始开发
