# ONE DAY - 开发计划

## 📅 项目时间线

**预计总时长**：7-11 天
**当前状态**：设计阶段完成
**下一步**：等待故事内容完善

---

## 🎯 开发阶段划分

### 阶段 0：准备工作（1天）
**状态**：⏳ 待开始
**目标**：完善游戏内容，准备开发环境

#### 任务清单
- [ ] **故事内容完善**
  - [ ] 用户完善5个故事事件的细节描写
  - [ ] 检查文本流畅度和逻辑性
  - [ ] 确认所有"输"和"赢"字的位置和颜色
  - [ ] 确认可编辑文字的最终位置

- [ ] **技术栈确认**
  - [ ] 确定使用 Vue.js / React / Vanilla JS
  - [ ] 确定背景方案（图片素材 vs CSS生成）
  - [ ] 初始化项目结构

- [ ] **素材准备**
  - [ ] 准备3张背景图（哭脸、笑脸、混合脸）
  - [ ] 准备成就弹窗缩略图
  - [ ] 准备未解锁状态的问号图标
  - [ ] 测试图片加载和压缩

#### 交付物
- ✅ 完善的故事文本
- ✅ 确定的技术栈
- ✅ 项目初始化完成

---

### 阶段 1：项目基础搭建（1-2天）
**状态**：⏳ 待开始
**依赖**：阶段0完成

#### 任务清单
- [ ] **项目初始化**
  - [ ] 创建项目文件夹结构
  - [ ] 配置开发环境（如使用框架，设置构建工具）
  - [ ] 设置路由系统
  - [ ] 配置状态管理

- [ ] **基础布局**
  - [ ] 创建8个页面的基础结构
  - [ ] 实现页面导航
  - [ ] 设置全局样式
  - [ ] 响应式布局基础

- [ ] **背景系统**
  - [ ] 实现3个背景的切换
  - [ ] 背景解锁逻辑
  - [ ] LocalStorage 保存背景等级

#### 交付物
- ✅ 可运行的项目框架
- ✅ 8个页面可访问
- ✅ 背景可切换

#### 代码示例：项目结构
```
one-day-game/
├── index.html
├── css/
│   ├── main.css
│   └── pages.css
├── js/
│   ├── main.js
│   ├── state.js
│   └── pages/
│       ├── home.js
│       ├── target.js
│       ├── story1.js
│       ├── story2.js
│       ├── story3.js
│       ├── story4.js
│       ├── story5.js
│       └── ending.js
├── assets/
│   ├── images/
│   │   ├── bg-sad.jpg
│   │   ├── bg-happy.jpg
│   │   ├── bg-mixed.jpg
│   │   └── thumbnails/
│   │       ├── bg-sad-thumb.jpg
│   │       ├── bg-happy-thumb.jpg
│   │       └── bg-mixed-thumb.jpg
│   └── icons/
│       └── question-mark.svg
└── docs/
```

---

### 阶段 2：核心功能开发（2-3天）
**状态**：⏳ 待开始
**依赖**：阶段1完成

#### 任务清单
- [ ] **可编辑文字组件**
  - [ ] 目标页"赢"字编辑功能
  - [ ] 结局页"输"字编辑功能
  - [ ] 编辑状态保存到 LocalStorage
  - [ ] 字体样式保持一致（无视觉差异）

- [ ] **故事页面组件**
  - [ ] 故事页1：出卧室选择
  - [ ] 故事页2：食堂排队选择
  - [ ] 故事页3：与老板游戏选择
  - [ ] 故事页4：与孩子游戏选择
  - [ ] 故事页5：讲道理（无选择）
  - [ ] 选择结果展开动画
  - [ ] "下一幕"按钮跳转逻辑

- [ ] **通关判定系统**
  - [ ] 方式一：目标页改为"输"的检测
  - [ ] 方式二：结局页改为"赢"的检测
  - [ ] 通关计数和背景解锁
  - [ ] 通关成功动画/提示

#### 交付物
- ✅ 可编辑文字功能完成
- ✅ 所有故事页面可玩
- ✅ 两种通关方式都能触发

#### 代码示例：可编辑文字组件
```javascript
// 可编辑文字功能
function makeEditable(elementId, storageKey) {
    const element = document.getElementById(elementId);

    // 从 LocalStorage 加载
    const savedText = localStorage.getItem(storageKey);
    if (savedText) {
        element.textContent = savedText;
    }

    // 设置为可编辑
    element.contentEditable = true;

    // 保存修改
    element.addEventListener('blur', () => {
        localStorage.setItem(storageKey, element.textContent);
        checkWinCondition();
    });

    // 防止明显的编辑提示
    element.style.cursor = 'text';
    element.addEventListener('mouseenter', () => {
        element.style.cursor = 'text';
    });
}
```

---

### 阶段 3：UI/UX 完善（2-3天）
**状态**：⏳ 待开始
**依赖**：阶段2完成

#### 任务清单
- [ ] **首页完善**
  - [ ] 标题"ONE DAY"设计
  - [ ] "开始游戏"按钮样式
  - [ ] 成就按钮（右上角）
  - [ ] 通关成功提示文字（初始隐藏）

- [ ] **成就弹窗**
  - [ ] 弹窗UI设计
  - [ ] 3个背景缩略图展示
  - [ ] 未解锁状态显示问号
  - [ ] 通关进度显示（0/2, 1/2, 2/2）
  - [ ] 关闭按钮

- [ ] **文字样式**
  - [ ] "输"字：深蓝色（#1E40AF），加粗
  - [ ] "赢"字：黄色（#F59E0B），加粗
  - [ ] 普通文字样式
  - [ ] 按钮样式统一

- [ ] **动画效果**
  - [ ] 页面切换动画
  - [ ] 按钮悬停效果
  - [ ] 选择结果展开动画
  - [ ] 通关成功庆祝动画

- [ ] **响应式设计**
  - [ ] 移动端适配
  - [ ] 平板横屏适配
  - [ ] 桌面端大屏优化

#### 交付物
- ✅ 精美的UI界面
- ✅ 流畅的动画效果
- ✅ 多设备适配完成

---

### 阶段 4：测试与优化（1-2天）
**状态**：⏳ 待开始
**依赖**：阶段3完成

#### 任务清单
- [ ] **功能测试**
  - [ ] 测试两种通关方式
  - [ ] 测试背景解锁逻辑
  - [ ] 测试 LocalStorage 保存/读取
  - [ ] 测试所有可编辑文字
  - [ ] 测试所有选择和跳转
  - [ ] 测试成就弹窗

- [ ] **兼容性测试**
  - [ ] Chrome 测试
  - [ ] Firefox 测试
  - [ ] Safari 测试
  - [ ] Edge 测试
  - [ ] 移动端浏览器测试

- [ ] **性能优化**
  - [ ] 图片压缩和懒加载
  - [ ] CSS 优化
  - [ ] JavaScript 性能优化
  - [ ] 页面加载速度测试

- [ ] **Bug修复**
  - [ ] 记录测试中发现的问题
  - [ ] 逐个修复Bug
  - [ ] 回归测试

#### 交付物
- ✅ 测试报告
- ✅ 所有已知Bug修复
- ✅ 性能达标

---

### 阶段 5：发布准备（1天）
**状态**：⏳ 待开始
**依赖**：阶段4完成

#### 任务清单
- [ ] **文档完善**
  - [ ] 更新 README.md
  - [ ] 完善 POSTMORTEM.md
  - [ ] 添加使用说明
  - [ ] 添加开发文档

- [ ] **部署准备**
  - [ ] 构建生产版本
  - [ ] 配置部署环境
  - [ ] 测试生产环境
  - [ ] 备份代码和数据

- [ ] **发布**
  - [ ] 部署到服务器/静态托管平台
  - [ ] 配置域名（如需要）
  - [ ] 测试线上版本
  - [ ] 通知用户/发布公告

#### 交付物
- ✅ 游戏上线
- ✅ 完整的文档
- ✅ 发布完成

---

## 📋 检查清单

### 每个阶段完成前的检查项

#### 阶段 0 检查清单
- [ ] 故事内容已完善并确认
- [ ] 技术栈已确定
- [ ] 背景方案已确定（图片或CSS）
- [ ] 所有素材准备就绪

#### 阶段 1 检查清单
- [ ] 项目可以在本地运行
- [ ] 8个页面都可以访问
- [ ] 背景可以在3个等级间切换
- [ ] 代码已提交到版本控制（如有）

#### 阶段 2 检查清单
- [ ] 目标页"赢"字可以编辑并保存
- [ ] 结局页"输"字可以编辑并保存
- [ ] 所有5个故事页面都能正常游玩
- [ ] 方式一通关可以触发
- [ ] 方式二通关可以触发

#### 阶段 3 检查清单
- [ ] UI风格统一、美观
- [ ] "输"和"赢"字颜色正确
- [ ] 成就弹窗显示正常
- [ ] 动画流畅不卡顿
- [ ] 移动端和桌面端都正常显示

#### 阶段 4 检查清单
- [ ] 所有功能测试通过
- [ ] 主流浏览器兼容性测试通过
- [ ] 没有已知的严重Bug
- [ ] 页面加载速度可接受

#### 阶段 5 检查清单
- [ ] 文档完整准确
- [ ] 线上版本可访问
- [ ] 线上版本功能正常

---

## 🔔 关键决策点

### 决策1：技术栈选择
**时间点**：阶段0开始前
**选项**：
- Vue.js（推荐：简单、响应式）
- React（灵活、生态丰富）
- Vanilla JS（轻量、无需构建）

### 决策2：背景方案
**时间点**：阶段0开始前
**选项**：
- 图片素材（推荐：视觉效果好）
- CSS生成（加载快、但效果简单）

### 决策3：部署方式
**时间点**：阶段5
**选项**：
- GitHub Pages（免费、简单）
- Netlify/Vercel（免费、功能强）
- 自有服务器（灵活、需维护）

---

## 📊 进度跟踪

### 阶段进度表

| 阶段 | 预计时间 | 实际时间 | 状态 | 完成日期 |
|-----|---------|---------|------|---------|
| 阶段0：准备工作 | 1天 | - | ⏳ 待开始 | - |
| 阶段1：项目基础搭建 | 1-2天 | - | ⏳ 待开始 | - |
| 阶段2：核心功能开发 | 2-3天 | - | ⏳ 待开始 | - |
| 阶段3：UI/UX完善 | 2-3天 | - | ⏳ 待开始 | - |
| 阶段4：测试与优化 | 1-2天 | - | ⏳ 待开始 | - |
| 阶段5：发布准备 | 1天 | - | ⏳ 待开始 | - |

---

## 💡 注意事项

### 开发建议
1. **先实现核心功能，再做美化** - 确保游戏逻辑正确
2. **频繁测试** - 每完成一个功能就测试
3. **保存进度** - 使用 Git 或定期备份
4. **移动端优先** - 考虑移动设备的使用体验
5. **性能监控** - 注意加载速度和资源大小

### 风险提示
- ⚠️ 故事内容可能需要多次调整
- ⚠️ 跨浏览器兼容性可能需要额外时间
- ⚠️ 背景图片可能影响加载速度
- ⚠️ 移动端适配可能需要额外调试

---

## 📞 沟通机制

### 每个阶段完成后的汇报内容
1. 本阶段完成的功能
2. 遇到的问题和解决方案
3. 下一步计划
4. 需要用户确认的事项

### 需要用户确认的时刻
- ✅ 阶段0：故事内容确认
- ✅ 阶段0：技术栈确认
- ✅ 阶段1：背景方案确认
- ✅ 阶段2：核心功能测试确认
- ✅ 阶段3：UI效果确认
- ✅ 阶段4：测试通过确认
- ✅ 阶段5：发布确认

---

**文档版本**：v1.0
**创建日期**：2026-01-30
**最后更新**：2026-01-30
**状态**：等待阶段0开始
